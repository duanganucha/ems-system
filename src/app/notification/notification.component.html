
<!--Navbar-->
<mdb-navbar SideClass="navbar navbar-expand-lg navbar-dark red" [containerInside]="false">
           
  <!-- Navbar brand -->
  <logo><a class="navbar-brand"><i class="fa fa-crosshairs  pr-2" aria-hidden="true"></i>Notification</a></logo>

  <!-- Collapsible content -->
  <links>

      <!-- Links -->
      <ul class="navbar-nav mr-auto">
         
        <li class="nav-item active">
              <a class="nav-link waves-light" mdbWavesEffect>ระยะทาง</a>
          </li>
          <li class="nav-item">
              <a class="nav-link waves-light" mdbWavesEffect>ค้นหา</a>
          </li>
          <li class="nav-item">
              <a class="nav-link waves-light" mdbWavesEffect>วันนี้</a>
          </li>
      </ul>
      <!-- Links -->
  </links>
  <!-- Collapsible content -->

</mdb-navbar>
<!--/.Navbar-->

<!--  table-->
<div class="table-responsive">
  <table class="table product-table">
    <!--Table head-->
    <thead>
      <tr>
        <th>ภาพเหตุการณ์</th>
        <th>เหตุการณ์</th>
        <th>เวลา</th>
        <th>เบอร์โทร</th>
        <th>สถานที่</th>
        <th>ตำแหน่ง</th>
        <th>Edit</th>
        <th></th>
      </tr>
    </thead>
    <!--/Table head-->

    <!--Table body-->
    <tbody>

      <!--First row-->
      <tr *ngFor="let item of items | async">
        <th scope="row">
          <img src="{{ item.imageBase64 }}" width="200px" height="120px" alt="" class="img-fluid">
        </th>
        <td>{{ item.scene }}</td>
        <td>{{ item.clienttime | date: 'dd/MM/yyyy - HH:mm' }}</td>
        <td>{{ item.telNumber }}</td>
        <td>{{ item.locationDetail }}</td>
        <td>{{ item.latitude }} {{ item.longitude }}</td>

        <td>
          <a class="blue-text" (click)="onApprove(item.key)">
            <i class="fa fa-user"></i>
          </a>
          <a class="teal-text">
            <i class="fa fa-pencil"></i>
          </a>
          <a class="red-text" (click)="onDelete(item)">
            <i class="fa fa-times"></i>
          </a>
        </td>

        <td>
          <button type="button" class="btn btn-primary relative waves-light" (click)="basicModal.show()" mdbWavesEffect>จัดการ</button>
          
          <div mdbModal #basicModal="mdb-modal" class="modal fade" id="basicExample" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-lg" role="document">
                  <div class="modal-content">
                      <div class="modal-header">
                          <button type="button" class="close pull-right" aria-label="Close" (click)="basicModal.hide()">
                            <span aria-hidden="true">×</span>
                          </button>
                          <h4 class="modal-title w-100" id="myModalLabel">จัดการ</h4>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <agm-map [latitude]="item.latitude" [longitude]="item.longitude" [zoom]="16">
                                    <agm-marker [latitude]="item.latitude" [longitude]="item.longitude"></agm-marker>
                                </agm-map>
                              </div>
                              <div class="col-md-6">
                                <img src="{{ item.imageBase64 }}" height=50% class="img-fluid">
                              </div>      
                        </div>
                        
                        <div class="modal-footer">
                          <button type="button" class="btn btn-danger waves-light" mdbWavesEffect (click)="basicModal.hide()" (click)="onApprove(item.key)"
                            [routerLink]="['/detecting/'+item.key]">
                            <i class="fa fa-check" aria-hidden="true"></i>เริ่มปฏิบัติการ</button>
                          <button type="button" class="btn btn-mdb-color waves-light" mdbWavesEffect (click)="onDrop(item)">
                            <i class="fa fa-folder-open" aria-hidden="true"></i> เก็บไว้</button>
                          <button type="button" class="btn btn-blue-grey  waves-light" aria-label="Close" (click)="basicModal.hide()" mdbWavesEffect>
                            <i class="fa fa-times"></i>ปิด</button>
                        </div>
                  </div>
              </div>
          </div>

        </td>
      </tr>
      <!--/First row-->

    </tbody>
    <!--/Table body-->
  </table>

  <!--Pagination -->
  <nav class="my-4">
    <ul class="pagination pagination-circle pg-blue mb-0">

      <!--First-->
      <li class="page-item disabled">
        <a class="page-link" mdbWavesEffect>First</a>
      </li>

      <!--Arrow left-->
      <li class="page-item disabled">
        <a class="page-link" mdbWavesEffect aria-label="Previous">
          <span aria-hidden="true">«</span>
          <span class="sr-only">Previous</span>
        </a>
      </li>

      <!--Numbers-->
      <li class="page-item active">
        <a class="page-link" mdbWavesEffect>1</a>
      </li>
      <li class="page-item">
        <a class="page-link" mdbWavesEffect>2</a>
      </li>
      <li class="page-item">
        <a class="page-link" mdbWavesEffect>3</a>
      </li>
      <li class="page-item">
        <a class="page-link" mdbWavesEffect>4</a>
      </li>
      <li class="page-item">
        <a class="page-link" mdbWavesEffect>5</a>
      </li>

      <!--Arrow right-->
      <li class="page-item">
        <a class="page-link" mdbWavesEffect aria-label="Next">
          <span aria-hidden="true">»</span>
          <span class="sr-only">Next</span>
        </a>
      </li>

      <!--First-->
      <li class="page-item">
        <a class="page-link">Last</a>
      </li>

    </ul>
  </nav>
  <!--/Pagination -->

</div>
<!--/  table-->